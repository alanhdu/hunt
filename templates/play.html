<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
        <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='js/socket.io-0.9.16.js') }}"></script>

        <script type="text/javascript" src="http://coffeescript.org/extras/coffee-script.js"> </script>

        <title> Hunt Online </title>
    </head>

    <body>
        <div class="navbar navbar-default navbar-fixed-top" role="navigation"> 
            <div class="navbar-header">
                <a class="navbar-brand" href="#"> Hunt </a>
            </div>

            <div>
                <ul class="nav navbar-nav">
                    <li> <a href="#"> Play </a> </li>
                </ul>
            </div>
        </div>

        <div class="content" style="text-align:center">
	  <hr />
          <canvas id="game" width="200" height="200"> </canvas>
        </div>

        <script type="text/javascript" src="{{ url_for('static', filename='dispMaze.js') }}"></script>
        <script type="text/coffeescript">
            socket = io.connect()
            # TODO add actual usernames/ids
            socket.on("connect", () -> socket.emit('begin', {width:64, height:48, username:"test"}))
            socket.on("update", render)
            $(document).keydown (evt) ->
                key = evt.which
                chr = String.fromCharCode key

                switch chr
                    when 'J' then socket.emit("move", {direction: 'v', username: "test"})
                    when 'K' then socket.emit("move", {direction: '^', username: "test"})
                    when 'L' then socket.emit("move", {direction: '>', username: "test"})
                    when 'H' then socket.emit("move", {direction: '<', username: "test"})
        </script>
    </body>
</html>
